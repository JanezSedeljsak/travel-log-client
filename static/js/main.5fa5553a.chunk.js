(this.webpackJsonpTravelLog=this.webpackJsonpTravelLog||[]).push([[0],{303:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(28),c=n.n(a),s=n(180),i=n(172),o=n.n(i),u=n(78),l=n(89),j=n(34),b=n(9),p=n.n(b),d=n(23),O=n(16),h=n(90),m=n.n(h),f="https://travel-log.azurewebsites.net",x=function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a,c=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,r=c.length>2&&void 0!==c[2]?c[2]:[],e.next=4,m()({method:"get",headers:Object(O.a)({"Access-Control-Allow-Origin":"*"},n?{Authorization:"Bearer ".concat(n)}:{}),url:"".concat(f,"/api/v1/").concat(t)});case 4:return a=e.sent,e.abrupt("return",200===a.status?a.data:r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("stats/popular-destinations");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("stats/active-users");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("stats/top-countries");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("stats/avg-trips-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("trips");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("users");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("my-profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("trip-suggestion",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",headers:{"Access-Control-Allow-Origin":"*"},url:"".concat(f,"/api/v1/auth/login"),data:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",headers:{"Access-Control-Allow-Origin":"*"},url:"".concat(f,"/api/v1/auth/register"),data:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return B.apply(this,arguments)}function B(){return(B=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"put",headers:Object(O.a)({"Access-Control-Allow-Origin":"*"},n?{Authorization:"Bearer ".concat(n)}:{}),url:"".concat(f,"/api/v1/user/").concat(t.id),data:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"delete",headers:Object(O.a)({"Access-Control-Allow-Origin":"*"},n?{Authorization:"Bearer ".concat(n)}:{}),url:"".concat(f,"/api/v1/trips/").concat(t)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G="redux/users/SET_USER",V="redux/users/LOG_OUT",J="redux/users/SIGN_IN",W="redux/users/REGISTER",H="redux/users/PROFILE_UPDATE",X="redux/users/PROFILE_UPDATE_COMPLETE",K="redux/users/PROFILE_UPDATE_ERROR",Z="redux/users/REGISTER_COMPLETE",$="redux/users/SET_LOGIN_ERROR",Q="redux/users/SET_REGISTER_ERROR",ee={email:null,isLoggedIn:!1,isFetching:!1,jwt:null,userId:null,isAdmin:!1,loginError:null,registerError:null,profileUpdateError:null},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(O.a)(Object(O.a)({},e),{},{email:t.payload.email,isLoggedIn:!0,isFetching:!1,jwt:t.payload.jwt,isAdmin:t.payload.isAdmin,userId:t.payload.userId,loginError:null});case V:return ee;case J:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!0,loginError:null});case W:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!0,registerError:null});case Z:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!1,registerError:null});case $:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!1,loginError:t.payload.error});case Q:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!1,registerError:t.payload.error});case H:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!0,profileUpdateError:null});case X:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!1,email:t.payload.email,profileUpdateError:null});case K:return Object(O.a)(Object(O.a)({},e),{},{isFetching:!1,profileUpdateError:!0});default:return e}},ne=function(e){return{type:G,payload:e}},re=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:J}),t.next=3,R(e);case 3:(r=t.sent)&&n(ne({email:e.email,jwt:r.data.token,isAdmin:r.data.isAdmin,userId:r.data.userId}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(){return{type:V}},ce=re,se=function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:W}),t.next=3,_(e);case 3:t.sent&&(n({type:Z}),n(re(e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ie=function(e,t){return function(){var n=Object(d.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:H}),n.next=3,U(e,t);case 3:a=n.sent,r(a?{type:X,payload:{email:e.email}}:{type:K});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},oe=Object(l.b)({user:te}),ue=n(101),le=n(33),je=n(308),be=n(310),pe=n(71),de=n(4),Oe=function(){var e=Object(j.c)((function(e){return e.user.isLoggedIn&&null!==e.user.jwt})),t=Object(j.b)();return Object(r.useEffect)((function(){t(ae())}),[t]),e?Object(de.jsx)(le.a,{to:"/"}):Object(de.jsxs)("div",{className:"basic-form-container",children:[Object(de.jsx)("h1",{children:"Welcome back!"}),Object(de.jsxs)(je.a,{name:"basic",layout:"vertical",onFinish:function(e){t(ce(e))},onFinishFailed:function(){return console.log("errr")},autoComplete:"off",children:[Object(de.jsx)(je.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your username!"}],children:Object(de.jsx)(be.a,{})}),Object(de.jsx)(je.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(de.jsx)(be.a.Password,{})}),Object(de.jsx)(je.a.Item,{children:Object(de.jsx)(pe.a,{type:"primary",htmlType:"submit",children:"Login"})})]})]})},he=function(){var e=Object(j.c)((function(e){return e.user.isLoggedIn&&null!==e.user.jwt})),t=Object(j.b)();return Object(r.useEffect)((function(){t(ae())}),[t]),e?Object(de.jsx)(le.a,{to:"/"}):Object(de.jsxs)("div",{className:"basic-form-container",children:[Object(de.jsx)("h1",{children:"Register now!"}),Object(de.jsxs)(je.a,{name:"basic",layout:"vertical",onFinish:function(e){t(se(e))},onFinishFailed:function(){return alert("error in form")},autoComplete:"off",children:[Object(de.jsx)(je.a.Item,{label:"Full name",name:"fullname",rules:[{required:!0,message:"Please input your full name!"}],children:Object(de.jsx)(be.a,{})}),Object(de.jsx)(je.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your username!"}],children:Object(de.jsx)(be.a,{})}),Object(de.jsx)(je.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(de.jsx)(be.a.Password,{autoComplete:"new-password"})}),Object(de.jsx)(je.a.Item,{children:Object(de.jsx)(pe.a,{type:"primary",htmlType:"submit",children:"Register"})})]})]})},me=function(){return Object(de.jsx)("div",{children:"trip form"})},fe=n(26),xe=n(62),ge=n.n(xe),ye=n(100),ve=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.user.jwt})),n=Object(j.c)((function(e){return!0===e.user.isFetching})),a=Object(r.useState)({}),c=Object(fe.a)(a,2),s=c[0],i=c[1];function o(){return o=Object(d.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}if(Object(r.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),!Object.keys(s).length)return Object(de.jsx)(de.Fragment,{});return Object(de.jsxs)(je.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",onFinish:function(n){e(ie(n,t))},onFinishFailed:function(){return alert("error in form")},initialValues:s,children:[Object(de.jsx)(je.a.Item,{label:"Full name",name:"fullname",rules:[{required:!0,message:"Enter your full name"}],children:Object(de.jsx)(be.a,{})}),Object(de.jsx)(je.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Enter your email"}],children:Object(de.jsx)(be.a,{})}),Object(de.jsx)(je.a.Item,{label:"Lang code",name:"langCode",children:Object(de.jsxs)(ye.a,{children:[Object(de.jsx)(ye.a.Option,{value:"en",children:"EN"}),Object(de.jsx)(ye.a.Option,{value:"sl",children:"SL"})]})}),Object(de.jsx)(je.a.Item,{label:"Birth date",name:"birthDate",children:Object(de.jsx)("span",{children:ge()(s.birthDate).format("DD.MM.yyyy")})}),Object(de.jsx)(je.a.Item,{label:"Member since",name:"createdAt",disabled:!0,children:Object(de.jsx)("span",{children:ge()(s.createdAt).format("DD.MM.yyyy")})}),Object(de.jsx)(je.a.Item,{label:"New password",name:"password",children:Object(de.jsx)(be.a.Password,{})}),Object(de.jsx)(je.a.Item,{label:"Old password",name:"oldpassword",rules:[{required:!0,message:"Enter old password to update profile!"}],children:Object(de.jsx)(be.a.Password,{autoComplete:"new-password"})}),Object(de.jsx)(je.a.Item,{label:" ",children:Object(de.jsx)(pe.a,{type:"primary",htmlType:"submit",children:n?"Loading...":"Update profile"})})]})},we=n(311),Ie=n(309),Ee=n(313),ke=n(314),Ce=n(315),Se=n(316),Le=n(317),Fe=n(125),Ne=be.a.Search,Ae=function(){var e=Object(j.c)((function(e){return e.user.jwt})),t=Object(j.c)((function(e){return e.user.email})),n=Object(j.c)((function(e){return e.user.userId})),a=Object(j.c)((function(e){return e.user.isAdmin})),c=Object(le.g)(),s=Object(Fe.useToasts)().addToast,i=Object(r.useState)([]),o=Object(fe.a)(i,2),u=o[0],l=o[1],b=Object(r.useState)([]),O=Object(fe.a)(b,2),h=O[0],m=O[1],f=Object(r.useState)(!0),x=Object(fe.a)(f,2),g=x[0],y=x[1],v=Object(r.useState)(""),w=Object(fe.a)(v,2),I=w[0],E=w[1],k=Object(r.useState)(!1),C=Object(fe.a)(k,2),L=C[0],F=C[1],N=Object(r.useState)(-1),A=Object(fe.a)(N,2),D=A[0],M=A[1];function T(){F(!1),M(-1)}function R(e){return{appearance:e,autoDismiss:!0,autoDismissTimeout:2500}}function P(){return _.apply(this,arguments)}function _(){return _=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,l(t),m(t);case 5:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function z(e,n){var r=u.filter((function(r){var a=r.tripName.toLowerCase().includes(e.toLowerCase()),c=n||r.userList.some((function(e){return e.email===t}));return a&&c}));m(r)}function U(){return U=Object(d.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n);case 2:(r=e.sent)&&r.data.status?(s("Succesfully deleted record!",R("success")),P()):s("Failed to deleted record!",R("error"));case 4:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}return Object(r.useEffect)((function(){P()}),[]),Object(de.jsxs)("div",{className:"w-100",children:[Object(de.jsxs)("div",{style:{marginBottom:10},children:[Object(de.jsx)("span",{children:"Toggle all trips:  "}),Object(de.jsx)(ke.a,{size:"small",checked:g,onChange:function(e){y(e),z(I,e)}})]}),Object(de.jsx)(Ne,{placeholder:"Filter trips by title",allowClear:!0,onSearch:function(e){E(e),z(e,g)},style:{width:"100%"}}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:h,renderItem:function(t,r){return Object(de.jsx)(Ie.b.Item,{actions:[Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(pe.a,{type:"primary",shape:"circle",onClick:function(){return function(e){M(e),F(!0)}(r)},icon:Object(de.jsx)(Ce.a,{}),size:"large"}),(a||n&&n===t.createdBy)&&Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(pe.a,{type:"danger",shape:"circle",onClick:function(){return function(e,t){return U.apply(this,arguments)}(t.id,e)},icon:Object(de.jsx)(Se.a,{}),size:"large"}),Object(de.jsx)(pe.a,{shape:"circle",onClick:function(){return function(e){c.push("/edit/trip/".concat(e))}(r)},icon:Object(de.jsx)(Le.a,{}),size:"large"})]})]})],children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://cdn-icons-png.flaticon.com/512/1452/1452378.png"}),title:t.tripName,description:"".concat(t.destination," - ").concat(ge()(t.tripDate,"YYYYMMDD").fromNow())})})}}),function(){if(-1===D)return Object(de.jsx)(de.Fragment,{});var e=h[D];return Object(de.jsxs)(we.a,{title:"Trip details",visible:L,onOk:T,onCancel:T,width:"70vw",children:[Object(de.jsxs)("p",{children:["Name: ",Object(de.jsx)("b",{children:e.tripName})]}),Object(de.jsxs)("p",{children:["Destination: ",Object(de.jsx)("b",{children:e.destination})]}),Object(de.jsxs)("p",{children:["Country: ",Object(de.jsx)("b",{children:e.countryName})]}),-1!==e.avgRating&&Object(de.jsxs)("p",{children:["Avg rating: ",Object(de.jsx)("b",{children:e.avgRating})]}),Object(de.jsxs)("p",{children:["Trip date: ",Object(de.jsx)("b",{children:ge()(e.tripDate).format("DD.MM.yyyy")})]}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:e.userList,renderItem:function(e){return Object(de.jsx)(Ie.b.Item,{children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://icons.veryicon.com/png/o/miscellaneous/two-color-icon-library/user-286.png"}),title:e.fullName,description:e.email})})}})]})}()]})},De=n(87),Me=be.a.Search,Te=function(){var e=Object(r.useState)([]),t=Object(fe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(fe.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(!1),l=Object(fe.a)(u,2),j=l[0],b=l[1],O=Object(r.useState)(-1),h=Object(fe.a)(O,2),m=h[0],f=h[1];function x(){b(!1),f(-1)}function g(){return g=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,a(t),o(t);case 5:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return Object(r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(de.jsxs)("div",{className:"w-100",children:[Object(de.jsx)(Me,{placeholder:"Filter members by name",allowClear:!0,onSearch:function(e){o(n.filter((function(t){return t.fullName.toLowerCase().includes(e.toLowerCase())})))},style:{width:"100%"}}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:i,renderItem:function(e,t){return Object(de.jsx)(Ie.b.Item,{actions:[Object(de.jsx)(De.a,{title:"View detail",children:Object(de.jsx)(pe.a,{type:"primary",shape:"circle",onClick:function(){return function(e){f(e),b(!0)}(t)},icon:Object(de.jsx)(Ce.a,{}),size:"large"})})],children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://icons.veryicon.com/png/o/miscellaneous/two-color-icon-library/user-286.png"}),title:e.fullName,description:e.email})})}}),function(){if(-1==m)return Object(de.jsx)(de.Fragment,{});var e=i[m];return Object(de.jsxs)(we.a,{title:"Member details",visible:j,onOk:x,onCancel:x,width:"70vw",children:[Object(de.jsxs)("p",{children:["Full name: ",Object(de.jsx)("b",{children:e.fullName})]}),Object(de.jsxs)("p",{children:["Email: ",Object(de.jsx)("b",{children:e.email})]}),Object(de.jsxs)("p",{children:["Birthdate: ",Object(de.jsx)("b",{children:ge()(e.birthdate).format("DD.MM.yyyy")})]}),Object(de.jsxs)("p",{children:["Joined: ",Object(de.jsx)("b",{children:ge()(e.createdAt).format("DD.MM.yyyy")})]}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:e.trips,renderItem:function(e){return Object(de.jsx)(Ie.b.Item,{children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://cdn-icons-png.flaticon.com/512/1452/1452378.png"}),title:e.tripName,description:"".concat(e.destination," - ").concat(ge()(e.tripDate,"YYYYMMDD").fromNow())})})}})]})}()]})},Re=function(){return Object(de.jsx)("div",{className:"paperplane",children:Object(de.jsxs)("div",{className:"plane",children:[Object(de.jsx)("div",{className:"wingRight"}),Object(de.jsx)("div",{className:"wingLeft"}),Object(de.jsx)("div",{className:"bottom"}),Object(de.jsx)("div",{className:"top"}),Object(de.jsx)("div",{className:"middle"})]})})},Pe=n.p+"static/media/banner.facae160.jpg",_e=n(305),ze=n(306),Ue=function(){var e=Object(r.useState)([]),t=Object(fe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(fe.a)(c,2),i=s[0],o=s[1];function u(){return(u=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,v();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=8,g();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){u.apply(this,arguments)}()}),[]),Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)("div",{id:"landing",children:[Object(de.jsx)("img",{id:"banner-img",src:Pe}),Object(de.jsx)(Re,{}),Object(de.jsx)("p",{children:"~ Pass on the beautiful memories you've made around the world ~"}),Object(de.jsxs)("div",{id:"landing-container",children:[Object(de.jsx)("div",{id:"landing-container-title",children:Object(de.jsx)("h1",{children:"Travel log"})}),Object(de.jsxs)(_e.a,{children:[Object(de.jsxs)(ze.a,{span:12,children:[Object(de.jsx)("h1",{className:"blu-title",children:"Top members"}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:n,renderItem:function(e){return Object(de.jsx)(Ie.b.Item,{children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://icons.veryicon.com/png/o/miscellaneous/two-color-icon-library/user-286.png"}),title:e.user.fullname,description:"".concat(e.user.email," - Trips: ").concat(e.count)})})}})]}),Object(de.jsxs)(ze.a,{span:12,children:[Object(de.jsx)("h1",{className:"blu-title",children:"Top locations"}),Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:i,renderItem:function(e){return Object(de.jsx)(Ie.b.Item,{children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://cdn-icons-png.flaticon.com/512/561/561726.png"}),title:e.name,description:"".concat(e.country," - Visited: ").concat(e.count)})})}})]})]})]})]})})},Be=n(35),qe=n(312),Ye=n(307),Ge=function(){return Object(de.jsx)("svg",{id:"waves",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(de.jsx)("path",{fill:"#3c71b6",fillOpacity:"1",d:"M0,160L60,149.3C120,139,240,117,360,117.3C480,117,600,139,720,149.3C840,160,960,160,1080,138.7C1200,117,1320,75,1380,53.3L1440,32L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"})})},Ve=function(e){var t=e.isAuth,n=e.isAdmin,a=Object(le.g)(),c=Object(j.b)(),s=Object(r.useState)("/"),i=Object(fe.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(!1),b=Object(fe.a)(l,2),h=b[0],m=b[1],f=Object(r.useState)([]),x=Object(fe.a)(f,2),g=x[0],y=x[1],v=Object(j.c)((function(e){return e.user.jwt}));function w(){m(!1)}function I(){return(I=Object(d.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="logout"===e.t0?3:"get-suggestion"===e.t0?5:11;break;case 3:return c(ae()),e.abrupt("return");case 5:return e.next=7,M(v);case 7:return n=e.sent,y(n),m(!0),e.abrupt("return");case 11:return u(t),a.push("/".concat(t)),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E={left:{"":"Home",trips:"Recent trips",members:"Members"}},k={left:{"create/trip":"Add trip","get-suggestion":"Get suggestion"},right:{profile:"Profile",logout:"Logout"}},C={right:{login:"Login",register:"Register"}},S={left:{dashboard:"Dashboard"}};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Ye.a.Header,{children:function(){var e,r=Object(O.a)(Object(O.a)(Object(O.a)({},n?S.left:[]),E.left),t?k.left:C.left),a=Object(O.a)(Object(O.a)(Object(O.a)({},n?S.right:[]),E.right),t?k.right:C.right);return Object(de.jsxs)(qe.a,(e={mode:"horizontal",selectedKeys:o},Object(Be.a)(e,"mode","horizontal"),Object(Be.a)(e,"onClick",(function(e){return function(e){return I.apply(this,arguments)}(e.key)})),Object(Be.a)(e,"children",[Object.keys(r).map((function(e){return Object(de.jsx)(qe.a.Item,{children:r[e]},e)})),Object.keys(a).map((function(e,t){return 0===t?Object(de.jsx)(qe.a.Item,{style:{marginLeft:"auto"},children:a[e]},e):Object(de.jsx)(qe.a.Item,{children:a[e]},e)}))]),e))}()}),Object(de.jsx)(Ge,{}),Object(de.jsx)(we.a,{title:"Destination suggestions",visible:h,onOk:w,onCancel:w,children:Object(de.jsx)(Ie.b,{itemLayout:"horizontal",dataSource:g,renderItem:function(e){return Object(de.jsx)(Ie.b.Item,{children:Object(de.jsx)(Ie.b.Item.Meta,{avatar:Object(de.jsx)(Ee.a,{src:"https://cdn-icons-png.flaticon.com/512/1452/1452378.png"}),title:Object(de.jsx)("a",{target:"_blank",href:"http://images.google.com/images?q=".concat(e.name),children:e.name}),description:e.country})})}})})]})},Je=n(105),We=(n(302),function(e){return{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:e.title}}}});function He(e){var t=e.members,n=We({title:"Most active members"}),r={labels:t.map((function(e){return e.user.fullname})),datasets:[{label:"Members by full name",data:t.map((function(e){return e.count})),backgroundColor:"#3f681c"}]};return Object(de.jsx)(Je.a,{options:n,data:r})}function Xe(e){var t=e.destinations,n=We({title:"Most visited destinations"}),r={labels:t.map((function(e){return e.name})),datasets:[{label:"Destinations by name",data:t.map((function(e){return e.count})),backgroundColor:"#fb6542"}]};return Object(de.jsx)(Je.a,{options:n,data:r})}function Ke(e){var t=e.countries,n=We({title:"Most visited countries"}),r={labels:t.map((function(e){return e.countryName})),datasets:[{label:"Countries by name",data:t.map((function(e){return e.count})),backgroundColor:"#ffbb00"}]};return Object(de.jsx)(Je.a,{options:n,data:r})}function Ze(e){var t=e.monthData,n={labels:t.map((function(e){return e.monthName})),datasets:[{label:"Trips per month",data:t.map((function(e){return e.count})),backgroundColor:"#375e97"}]};return Object(de.jsx)(Je.b,{type:"line",data:n})}var $e=function(){var e=Object(r.useState)([]),t=Object(fe.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(fe.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)([]),l=Object(fe.a)(u,2),j=l[0],b=l[1],O=Object(r.useState)([]),h=Object(fe.a)(O,2),m=h[0],f=h[1];function x(){return(x=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,v();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=o,e.next=8,g();case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=b,e.next=13,I();case 13:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=f,e.next=18,k();case 18:e.t7=e.sent,(0,e.t6)(e.t7);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]),Object(de.jsxs)("div",{style:{flex:1},children:[Object(de.jsxs)(_e.a,{gutter:[16,24],children:[Object(de.jsx)(ze.a,{span:12,children:Object(de.jsx)(He,{members:n})}),Object(de.jsx)(ze.a,{span:12,children:Object(de.jsx)(Xe,{destinations:i})})]}),Object(de.jsxs)(_e.a,{gutter:[16,24],children:[Object(de.jsx)(ze.a,{span:12,children:Object(de.jsx)(Ke,{countries:j})}),Object(de.jsx)(ze.a,{span:12,children:Object(de.jsx)(Ze,{monthData:m})})]})]})},Qe=(n(303),n(32)),et=["component"],tt=["component"];function nt(){var e=Object(j.c)((function(e){return e.user.isLoggedIn&&null!==e.user.jwt})),t=Object(j.c)((function(e){return!0===e.user.isAdmin})),n=Object(le.h)(),r=function(t){var n=t.component,r=Object(ue.a)(t,et);return Object(de.jsx)(le.b,Object(O.a)(Object(O.a)({},r),{},{render:function(t){return!0===e?Object(de.jsx)(n,Object(O.a)({},t)):Object(de.jsx)(le.a,{to:"/login"})}}))},a=function(n){var r=n.component,a=Object(ue.a)(n,tt);return Object(de.jsx)(le.b,Object(O.a)(Object(O.a)({},a),{},{render:function(n){return e&&t?Object(de.jsx)(r,Object(O.a)({},n)):Object(de.jsx)(le.a,{to:"/login"})}}))};return Object(de.jsx)(Fe.ToastProvider,{children:Object(de.jsxs)(Ye.a,{children:[Object(de.jsx)(Ve,{isAuth:e,isAdmin:t}),Object(de.jsxs)(le.d,{children:[Object(de.jsx)(le.b,{path:"/",component:Ue,exact:!0}),["/login","/register"].includes(n.pathname)&&Object(de.jsxs)("div",{id:"container-with-background",children:[Object(de.jsx)(le.b,{path:"/login",component:Oe}),Object(de.jsx)(le.b,{path:"/register",component:he})]}),Object(de.jsxs)(Ye.a.Content,{children:[Object(de.jsx)(le.b,{path:"/trips",component:Ae}),Object(de.jsx)(le.b,{path:"/members",component:Te}),Object(de.jsx)(r,{path:"/create/trip",component:me}),Object(de.jsx)(r,{path:"/edit/trip/:id",component:me}),Object(de.jsx)(r,{path:"/profile",component:ve}),Object(de.jsx)(a,{path:"/dashboard",component:$e})]})]})]})})}Qe.e.register(Qe.d,Qe.i,Qe.b,Qe.n,Qe.o,Qe.g);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,at=Object(l.d)(oe,rt(Object(l.a)(s.a),o()())),ct=document.getElementById("root");c.a.render(Object(de.jsx)(j.a,{store:at,children:Object(de.jsx)(u.a,{children:Object(de.jsx)(nt,{})})}),ct),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[304,1,2]]]);
//# sourceMappingURL=main.5fa5553a.chunk.js.map